% makebox for over-wide figure   
\makebox[\linewidth]{
\begin{tikzpicture}[
  transform shape,
  nodes={text width=2cm, draw, minimum height=1cm, align=center},
  tee/.style={fill=CornflowerBlue!10!white},
  subtitle/.style={font=\bfseries, draw=none, text width=}
]
	\node (v1c) at (12,1.5) {RAM};
	\node (v2c) at (12,-0.5) {ROM};
	\node (v4c) at (15,-0.5) {Internal peripherals};
	\node (v3c) at (15,1.5) {Processing core(s)};
	\draw (10.5,3) rectangle (16.5,-1.5);
	\node[draw=none] at (13.5,2.5) {SoC};
	\node (v5c) at (15,4) {External memory};
	\node (v7c) at (12,4) {External peripherals};
	\draw  (11,0.5) -- (16,0.5);
	\draw  (v1c) |- (12,0.5);
	\draw  (v2c) |- (12,0.5);
	\draw  (v3c) |- (15,0.5);
	\draw  (v4c) |- (15,0.5);
	\draw  (v5c) |- (15,3);
	\draw  (v7c) |- (12,3);
	\node[subtitle] at (13.5,-2.5) {One Possible TrustZone Platform};
	
	% TEE elements
	\begin{scope}[on background layer]
		\path[tee] (v1c.90) rectangle (v1c.south east);
		\path[tee] (v2c.90) rectangle (v2c.south east);
		\path[tee] (v3c.90) rectangle (v3c.south east);
		\path[tee] (v4c.90) rectangle (v4c.south east);
		\path[tee] (v5c.90) rectangle (v5c.south east);
		\path[tee] (v7c.90) rectangle (v7c.south east);
	\end{scope}
\end{tikzpicture}
}